webpackJsonp([5],{"2l1A":function(t,e){},"6FIV":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("w960"),i=s("Awhl"),o=s("zg28"),r={name:"DashboardNot",components:{Nav:a.a,Aside:i.a,Main:o.default}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-container",{attrs:{id:"DashboardNot"}},[e("el-header",[e("Nav")],1),this._v(" "),e("el-container",{staticClass:"dashboard-list"},[e("el-main",{staticClass:"dashboard-list-main"},[e("transition",{attrs:{name:"slider"}},[e("keep-alive",[e("router-view")],1)],1)],1)],1),this._v(" "),e("el-footer",[this._v("©虎特信息科技（上海）有限公司 版权所有")])],1)},staticRenderFns:[]};var l=s("VU/8")(r,n,!1,function(t){s("HrCF")},"data-v-1b609d5c",null);e.default=l.exports},"9Udt":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAASFJREFUOBFj1LNPfMvA8F+IgSLA+I6JckNALvgvxMLAyNDAyMggTImD/v9nAPpqsAFGZAcZu6Tx//3DxXjhwIQP+g6JJ4ByxHr5LQvMIH3HVO3ff37vYGT4uAEolvv//39zmBwRtArYICPnBNu/f39vYvjPIMDAxMgN0giMgKX//zMSlSwYGf+/YzF0Srb78/fvTqAhHMg2XzywIAaZT4jNxPD/H0o4EdKAS57l/P75Bw2dk5z+/fm/8T/Df1GYQn2HhCUkeQ2k8fzeecf13FLMGX7+3crwj/E9SAyYyKKBJIhJEADVMsBj7dKuOfcdHBr0REUZmC4CtTIyMp4EUkRHP0Hb6K6AUc8hoZ4amZYFGJ4NoMCiFADLI8Z3lBoCMgMAxiNezrh/HYkAAAAASUVORK5CYII="},Awhl:function(t,e,s){"use strict";var a=s("Dd8w"),i=s.n(a),o=s("NYxO"),r={name:"aside-item",props:{item:{type:Object,required:!0},collapse:{type:Boolean,default:!1}},computed:i()({},Object(o.c)({sandbox:function(t){return t.layout.sandbox}}))},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"aside-item"},[t.item.children?s("el-submenu",{attrs:{index:t.item.meta.auth}},[s("template",{slot:"title"},[1==t.item.meta.deep?s("i",{staticClass:"e-aside-icon",class:t.item.meta.icon}):t._e(),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.collapse,expression:"!collapse"}]},[t._v(t._s(t.item.meta.title))]),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:!t.collapse,expression:"!collapse"}],staticClass:"el-icon-caret-bottom"})]),t._v(" "),t._l(t.item.children,function(t){return s("aside-item",{key:t.path,attrs:{item:t}})})],2):[s("router-link",{key:t.item.meta.auth,staticClass:"item",attrs:{to:t.item.path,"active-class":"","exact-active-class":""}},[s("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:"沙箱"!=t.item.meta.title||t.sandbox,expression:"item.meta.title != '沙箱' ? true : sandbox"}],attrs:{index:String(t.item.meta.auth)}},[1==t.item.meta.deep?s("i",{staticClass:"e-aside-icon",class:t.item.meta.icon}):t._e(),t._v(" "),s("span",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.item.meta.title))])])],1)]],2)},staticRenderFns:[]};var l={name:"Aside",data:function(){return{asideList:[],crumb:{name:"首页",path:"/"},crumbLeftSrc:s("9Udt"),crumbRightSrc:s("gtJc")}},components:{AsideItem:s("VU/8")(r,n,!1,function(t){s("aN2I")},"data-v-18e60a63",null).exports},computed:i()({},Object(o.c)({isCollapse:function(t){return t.layout.isCollapse}}),Object(o.b)(["addRouters"])),created:function(){if(this.rootAuth=this.$route.meta.rootAuth,this.crumb.name=this.$route.matched[0].meta.title,this.crumb.path=this.$route.matched[0].path,!this.rootAuth)return!1;this.setHighlightIndex()},watch:{$route:function(t,e){this.rootAuth=t.meta.rootAuth,this.crumb.name=t.matched[0].meta.title,this.crumb.path=t.matched[0].path,this.setHighlightIndex()}},methods:{setHighlightIndex:function(){var t=this.rootAuth,e=this.addRouters.filter(function(e,s){if(e.meta.auth==t)return e});this.asideList=e[0].children},toggleCollapse:function(){var t=this.isCollapse;this.$store.commit("TOGGLE_COLLAPSE",!t)}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"aside"}},[s("div",{staticClass:"aside-breadcrumb"},[t.isCollapse?[s("div",{staticClass:"aside-crumb-right",attrs:{align:"right"},on:{click:function(e){return e.stopPropagation(),t.toggleCollapse()}}},[s("img",{staticClass:"crumb-image",attrs:{src:t.crumbRightSrc}})])]:[s("el-breadcrumb",{staticClass:"all-breadcrumb",attrs:{"separator-class":"el-icon-arrow-right"}},[s("el-breadcrumb-item",{attrs:{to:{path:t.crumb.path}}},[t._v(t._s(t.crumb.name))])],1),t._v(" "),s("div",{staticClass:"aside-crumb",attrs:{align:"right"},on:{click:function(e){return e.stopPropagation(),t.toggleCollapse()}}},[s("img",{staticClass:"crumb-image",attrs:{src:t.crumbLeftSrc}})])]],2),t._v(" "),s("transition",{attrs:{name:"fade"}},[s("el-menu",{attrs:{"default-active":t.$route.meta.auth,collapse:t.isCollapse}},t._l(t.asideList,function(e){return s("aside-item",{key:e.meta.auth,attrs:{item:e,collapse:t.isCollapse}})}),1)],1)],1)},staticRenderFns:[]};var d=s("VU/8")(l,c,!1,function(t){s("DY9L")},"data-v-55a4a8db",null);e.a=d.exports},DY9L:function(t,e){},HrCF:function(t,e){},aN2I:function(t,e){},gFJz:function(t,e){},gtJc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAASBJREFUOBFj1LNPfMvA8F+IgSLA+I6JckNALvgvxMLAyNDAyMggTImD/v9nAPpqsAFGB4csnm/MjOyn9k5FcZ6+Q+IJoGOJ9fJblg8M3/P//WEoMnBK9L2wb/4xmE////9vDmMTQauAApub4f9/of9/GfYYOiZFnN8/bxNIIzAClv7/z0hUsmBk/P+O0cAxse3fv/+VUM1/gQaHXdy/YB0RrkBRAkxHqOA/AxMjqghxPBaEMsbPTEyM4ef3zdsOEtN3SFhCitdY/v1neAcMkcesrP+9z+6ZfxlmMDCRRQNTLIyLlwaqZWARYpCf8Fn92cSzs2b9RlbNyMh4EsgnOvqR9Q4ONqOeQ0I9NTItCzA8G0CBRSkApiNGYKxRChjfAQDBAF2syg6bzAAAAABJRU5ErkJggg=="},koFS:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAR5JREFUOBHNlL9OwkAAhys4IAnEZ7C6MDFIeAHj5gOYOILP0MUQFydABp6EV2AQH8A/swujAyzSJuf3u7RJ01pDuIbwS767a+/uu7tcWs879BwZY67Z5BM0HTf7zfxAwgWNrqMsmf5VoeUnT2XUEo7LEMWOqa059jO4ZpLI7tTA1of1DtYVc3qx41YiZQIncAEL2DZzBp5BDUawSYS0zSd0oAoPEEJRfugIoAKX8A5KmBbaFxSPcAwaqEWyeeNFG7TwANIL54T027xSnkMddGHakRiCjufDC2RTKNRAXdA96FhNaMTtHrUu4q+E+lKMve7i4oOuWdx9Q90qHupF2wj/mZ/rivSllBoJlyUalzryFUL9vk4dxfb35ejYw/RfzZ8f5/1nQyYAAAAASUVORK5CYII="},qlOZ:function(t,e,s){t.exports=s.p+"static/img/logo.4a6ec26.png"},w960:function(t,e,s){"use strict";var a=s("Dd8w"),i=s.n(a),o=s("NYxO"),r=s("Vlgw"),n=s("5Xf9"),l={name:"Nav",data:function(){return{logoSrc:s("qlOZ"),messageSrc:s("koFS"),avatarSrc:s("wuAy"),pass_state:!1,user_data:{page:1,rows:10,placeholder:"",password:{}},user_edit:{password:"",Re_password:"",old_password:"",department:"",mobile:"",email_addr:"",role:"",id:"",allow_ip:""},news_count:0}},computed:i()({},Object(o.c)({token:function(t){return t.layout.token}}),Object(o.b)(["addRouters"])),mounted:function(){var t=this;this.get_news(),this.timer=setInterval(function(){t.get_news()},5e3),n.a.$on("reset",function(){t.modifyPassword()})},methods:{enter_home:function(){this.$router.push({path:"/home/overview"})},regex:function(t){return new RegExp("(?=.*[0-9])(?=.*[a-zA-Z])(?=.*[^a-zA-Z0-9])").test(t)},getPwdLength:function(){var t=this;this.$axios.get("/yiiapi/site/get-passwd-length").then(function(e){t.user_data.password=e.data.data,t.user_data.placeholder="请输入包含大写、小写、数字和特殊字符其中三项,"+e.data.data.min_passwd_len+"-"+e.data.data.max_passwd_len+"位密码",
//!@#QWEasd123 Lele#easy123 Lele@19930901
t.$axios.get("/yiiapi/site/get-self-password-reset-token").then(function(e){var s=e.data,a=s.status,i=s.msg,o=s.data;if(0==a){localStorage.setItem("token",o.data.token);var r=o.data;t.user_edit.department=r.department,t.user_edit.mobile=r.mobile,t.user_edit.email_addr=r.email_addr}else t.$message({message:i,type:"error"})}).catch(function(t){console.log(t)})}).catch(function(t){console.log(t)})},modifyPassword:function(){this.getPwdLength(),this.pass_state=!0},closed_edit_box:function(){this.pass_state=!1,this.user_edit={password:"",Re_password:"",old_password:"",department:"",mobile:"",email_addr:"",role:"",id:"",allow_ip:""}},edit_user:function(){var t=this;return this.user_edit.password!=this.user_edit.Re_password?(this.$message({message:"两次输入密码不一致",type:"error"}),!1):this.regex(this.user_edit.password)||""==this.user_edit.password?""==this.user_edit.old_password?(this.$message({message:"旧密码不能为空",type:"error"}),!1):""==this.user_edit.mobile?(this.$message({message:"手机号不能为空",type:"error"}),!1):""==this.user_edit.email_addr?(this.$message({message:"邮箱不能为空",type:"error"}),!1):void this.$axios.put("/yiiapi/site/reset-self-password?token="+localStorage.getItem("token"),{ResetPasswordForm:{password:this.user_edit.password,email_addr:this.user_edit.email_addr,mobile:this.user_edit.mobile,department:this.user_edit.department},old_password:this.user_edit.old_password}).then(function(e){t.pass_state=!1,localStorage.removeItem("token"),0==e.data.status?(t.$message({message:"修改用户成功",type:"success"}),""!=t.user_edit.password&&setTimeout(function(){Object(r.b)(),t.$axios.get("/yiiapi/site/logout").then(function(e){0==e.data.status&&(console.log("退出"),location.reload(),t.$router.push("/login"))}).catch(function(t){console.log(t)})},500)):t.$message({message:e.data.msg,type:"error"}),t.user_edit={password:"",Re_password:"",old_password:"",department:"",mobile:"",email_addr:"",role:"",id:"",allow_ip:""}}).catch(function(t){console.log(t)}):(this.$message({message:"密码必须同时包含大写、小写、数字和特殊字符其中三项",type:"error"}),!1)},logout:function(){var t=this;this.$store.dispatch("LogOut").then(function(e){t.$message.success("退出登录成功"),location.reload()}).catch(function(e){t.$message.error("退出登录操作失败"+e)})},messageClick:function(){if("/message"==this.$route.path)return!1;this.$router.push("/message")},get_news:function(){var t=this;this.$axios.get("/yiiapi/news/count").then(function(e){var s=e.data,a=(s.status,s.data);t.news_count=a.count}).catch(function(t){console.log(t)})}},beforeDestroy:function(){clearInterval(this.timer)},destroyed:function(){console.log("33333")}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Nav"}},[a("el-row",{staticClass:"nav_user",attrs:{gutter:0}},[a("el-col",{staticStyle:{width:"11.2%"},attrs:{span:3}},[a("div",{staticClass:"header-logo",attrs:{align:"left"},on:{click:t.enter_home}},[a("img",{staticClass:"e-image",attrs:{src:t.logoSrc}})])]),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.$route.meta.rootAuth,mode:"horizontal"}},t._l(t.addRouters,function(e,s){return a("router-link",{key:e.meta.auth,staticClass:"item",attrs:{to:e.children[0].path}},[a("el-menu-item",{attrs:{index:String(e.meta.auth)}},[a("i",{staticClass:"e-nav-icon",class:e.meta.icon}),t._v(" "),a("span",[t._v(t._s(e.meta.title))])])],1)}),1)],1),t._v(" "),a("el-col",{staticStyle:{width:"38.3%"},attrs:{span:9}},[a("div",{staticClass:"header-basic",attrs:{align:"right"}},[a("el-badge",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"item",attrs:{value:t.news_count,max:99}},[a("img",{staticClass:"va-image",attrs:{src:t.messageSrc},on:{"~click":function(e){return t.messageClick()}}})]),t._v(" "),a("el-dropdown",{staticClass:"avatar-container right-menu-item",attrs:{trigger:"click"}},[a("div",{staticClass:"avatar-wrapper"},[a("img",{staticClass:"user-avatar",staticStyle:{display:"none"},attrs:{src:t.avatarSrc}}),t._v(" "),a("label",{staticClass:"avatar-name"},[t._v(t._s(t.token))]),t._v(" "),a("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),a("el-dropdown-menu",{staticClass:"nav-dropdown-menu",attrs:{slot:"dropdown"},slot:"dropdown"},[a("a",{attrs:{target:"_blank"},on:{click:function(e){return t.modifyPassword()}}},[a("el-dropdown-item",[t._v("\n                修改个人信息\n              ")])],1),t._v(" "),a("el-dropdown-item",{attrs:{divided:""}},[a("span",{staticStyle:{display:"block"},on:{click:t.logout}},[t._v("退出")])])],1)],1)],1)])],1),t._v(" "),a("el-dialog",{staticClass:"pop_box_password",attrs:{"close-on-click-modal":!1,"modal-append-to-body":!1,visible:t.pass_state},on:{"update:visible":function(e){t.pass_state=e}}},[a("img",{staticClass:"closed_img",attrs:{src:s("6an9"),alt:""},on:{click:t.closed_edit_box}}),t._v(" "),a("div",{staticClass:"title"},[a("div",{staticClass:"mask"}),t._v(" "),a("span",{staticClass:"title_name"},[t._v("修改个人信息")])]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"content_item"},[a("p",[a("span",{staticClass:"title"},[t._v("密码")])]),t._v(" "),a("el-input",{staticClass:"select_box",attrs:{placeholder:t.user_data.placeholder,"show-password":""},model:{value:t.user_edit.password,callback:function(e){t.$set(t.user_edit,"password",e)},expression:"user_edit.password"}})],1),t._v(" "),a("div",{staticClass:"content_item"},[a("p",[a("span",{staticClass:"title"},[t._v("确认密码")])]),t._v(" "),a("el-input",{staticClass:"select_box",attrs:{placeholder:"请再次输入密码","show-password":""},model:{value:t.user_edit.Re_password,callback:function(e){t.$set(t.user_edit,"Re_password",e)},expression:"user_edit.Re_password"}})],1),t._v(" "),a("div",{staticClass:"content_item"},[a("p",[a("span",{staticClass:"title"},[t._v("旧密码\n            "),a("span",{staticClass:"it_m"},[t._v("*")])])]),t._v(" "),a("el-input",{staticClass:"select_box",attrs:{placeholder:"请再次输入密码","show-password":""},model:{value:t.user_edit.old_password,callback:function(e){t.$set(t.user_edit,"old_password",e)},expression:"user_edit.old_password"}})],1),t._v(" "),a("div",{staticClass:"content_item"},[a("p",[a("span",{staticClass:"title"},[t._v("\n            邮箱\n            "),a("span",{staticClass:"it_m"},[t._v("*")])])]),t._v(" "),a("el-input",{staticClass:"select_box",attrs:{placeholder:"请输入邮箱",clearable:""},model:{value:t.user_edit.email_addr,callback:function(e){t.$set(t.user_edit,"email_addr",e)},expression:"user_edit.email_addr"}})],1),t._v(" "),a("div",{staticClass:"content_item"},[a("p",[a("span",{staticClass:"title"},[t._v("\n            手机号\n            "),a("span",{staticClass:"it_m"},[t._v("*")])])]),t._v(" "),a("el-input",{staticClass:"select_box",attrs:{placeholder:"请输入手机号",clearable:""},model:{value:t.user_edit.mobile,callback:function(e){t.$set(t.user_edit,"mobile",e)},expression:"user_edit.mobile"}})],1),t._v(" "),a("div",{staticClass:"content_item"},[a("p",[a("span",{staticClass:"title"},[t._v("部门")])]),t._v(" "),a("el-input",{staticClass:"select_box",attrs:{placeholder:"请输入部门",clearable:""},model:{value:t.user_edit.department,callback:function(e){t.$set(t.user_edit,"department",e)},expression:"user_edit.department"}})],1)]),t._v(" "),a("div",{staticClass:"btn_box"},[a("el-button",{staticClass:"cancel_btn",on:{click:t.closed_edit_box}},[t._v("取消")]),t._v(" "),a("el-button",{staticClass:"ok_btn",on:{click:t.edit_user}},[t._v("确定")])],1)])],1)},staticRenderFns:[]};var d=s("VU/8")(l,c,!1,function(t){s("gFJz"),s("2l1A")},"data-v-49d76120",null);e.a=d.exports},wuAy:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAFi0lEQVRYR7VXe2xTZRQ/597brd3G2m1soxVkczA3YTBfDHCIGOShhijK0JgYBBOVhITVRBJZJaHzDyC0KEaIhpBoYnRkStSMhyJj1LBNHtsYDBi4wQZz7NF2pevjPo5pWce6tvcWg/2vOb/f7/y+853v+85FiPPXt23bBE7lXYzIrAaCfAKYiAgZAToRDCBAPyBcIZJ+EHj175mbNrnikUYlkMtqLhQBNoAEbwBCmhI+GCewAwPfswC7J5Sb2uQ4sgYcVnMlEGwAgNS4EkeChgBht67cVBGLH9OA3WKuQ4AF/zFxGI0ATqYZTc9G04pqwGEx9wHAxAeRfIxGv85oyhyvGWHAYansAKCcB5x8RA47dcaK3LHaYQYclq1VALjq/0keUqUDOuMnZaF/owZGGm5zvMlRTW4uU+ghnu8S7Ql68nEF8XIB4dNQYwYNBI8aQX083a4y8A2qR/zJyNHMAFfo84XKe5Pc7DV/pzZqs40zN8QizA0c0aABh9X8JRB8oLQCdbHnBKsTF47F3TMQ8oH9vtZ05QZG2KMrN60PGnBazTeJwCBnQP2Ux8amiKVjMZJXPCK5hKURnS0yZ72X0p5QWJBT8qumotNSOYeAGuTAiUWeE1xG+MoBoFsY8E8GiaJSxTuqE8L11LBqRRhFfBvtFnM5AlhiGWASqVczz50dEU8urhe7WzQkeGbH4vLXUy9Id1QzYi+OqtGxs3IfIK2NBeIyhJbEIu+ssDiT3Iz692eD5O/nz3/WD8RHPQHikKpW6Ep9Tqa659BpMdsI4JlYoIQc3qbK8d3beybpLGa+mQWcbnKQw7t6hVvH2sjRVghEYZVSMkAAXQEDfYGnNZYBzcKsTkY12ANEDKjzfJi6YC4wXEIEnnf1igPNHeC+IdFwbxKqUrwSpU3ynR2IfasiDKPDYrYDgC7mFkzNa1GXLg7fAqXzOhL3n/nzlP9S6zwZuCNg4BwAFMcEsSykrF7XC4iRjahgxHOo+qo42D9NBtaEDqv5JyB4RU5L88KKU2yWXm4lEXTJ7WocPvjdHFmPCAfRaa20EtFGpaqmvPWeEwC0SrhQ3F39zSB5PelyeETchS6reaVIUK0kzGY/dFWz+GW5co5KeH77uU283VOopAmEZaGruJEInlYkAIDm2SU17JTcF6NhJddQvaemqpgEUR2HlkNnNKWNGKjcSETWOEhBiCovv5k1TEnj8mdcZAAkYpgmX8uZx/wNJ2V7aZz+Pp3R9O7d53jPjizR42tQmoSGJ0lNzKL5TJJ2ZnaKOjvsVDjdN/qE4Y7bPludO+U6I998AIAEL2k/NNWMDiT2nVvXIOL+WFX4p1Q44smSlnb1t5073V79+PxHjXVLincE3/4z175qONr0kbY4bwVvSM8tUg1jw+TDqpJYWohYri2v2BWIh41kTmvlfiJaM57Y8aq/ExCCN9r5zqMnr/Y0BqflSbpZ9dP0y5y2tu3BJ3m6fr5tZs7zoWvbmftjQsSpQcBftMaKFaEcYQbs1i05DHG/EsDoC9a9jL/CJ1F+iHCxq9Z2udtWyrKqSyX5r6l1yXrN8Zav2z3+O6WGjILakvzXRx+fxEGmzlDLjZmQ0KMzViSNXWDEVDzw+ZbJnMAdDphwFIo2e2H4EBIg2y5++8fc/LI5HJeYEhJr+vtQ3XRDybRkdXrYYJN6jTue0cwsQoALWqMpOMbJGggFHRbzX13LeV7Q0H3dgFESdD9ck9Cavt60PFpPxPwyOt35sZ4Ddh0BrAO4u//3+0PEViJpb3vj5b1lZQfE+zIQAte3b0lNTKB3gKS1ABjXq0gENxDxC43Xu7egYLvsV7Li13HISFXVKnZ6SeFKJCghoCeBwIAI+kCcCHoA4RYR1CPCeU6jPlaUvbk3nor9C646JFt+gyfYAAAAAElFTkSuQmCC"}});